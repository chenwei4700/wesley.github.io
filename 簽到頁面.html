<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登入頁面</title>
    <link rel="stylesheet" href="簽到頁面.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div class="outside">
        <div class="img-text-container">
            <img src="教會logo.png" alt="Logo">
            <h2><b>中華基督教衛理公會第18屆展開天使的翅膀慈善音樂會</b></h2>
        </div>
        <div>
            <li><b>請選擇姓名或是買桌單位、姓名</b></li>
        </div>
        <div class="button">
            <button type="button" class="btn btn-outline-primary"
                onclick="document.querySelector('label').innerHTML=`姓名`">姓名</button>
            <button type="button" class="btn btn-outline-primary"
                onclick="document.querySelector('label').innerHTML=`買桌單位、姓名`">買桌單位、姓名</button>
        </div>
        <div>
            <li><b>請輸入姓名或是買桌單位、姓名</b></li>
        </div>

        <div class="wrapper">
            <div class="input-data">
                <input type="text" required>
                <div class="underline"></div>
                <label></label>
            </div>
        </div>
        <div class="sent">
            <button type="button" class="btn btn-primary" onclick="table()">確認送出</button>
        </div>
        <div class="wrong">
            <b>輸入錯誤，請重新輸入</b>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
        </script>
    <script>
        const guestname = [{ name: "a", tableNumber: "1" }, { name: "b", tableNumber: 1 }, { name: "c", tableNumber: 1 }, { name: "d", tableNumber: 1 },]
        const church = [{ name: "北魏", tableNumber: 1 }, { name: "南魏", tableNumber: 2 }, { name: "西魏", tableNumber: 3 }, { name: "東魏", tableNumber: 4 }, { name: "東魏", tableNumber: 5 }, { name: "東魏", tableNumber: 6 }]

        function table() {
            let input = document.querySelector('input')
            input = input.value
    

            let ownTable = []

            if (document.querySelector('label').innerHTML === '姓名') {
                if (guestname.some(gn => gn.name === input)) {
                    for (let i = 0; i < guestname.length; i++) {
                        if (guestname[i].name === input) {
                            ownTable.push(guestname[i].tableNumber)

                        }
                    }
                    alert("您的桌號為" + ownTable.join("、"))
                    localStorage.setItem("tableNumber", JSON.stringify(ownTable))
                    window.location.href = "table.html";
                }
                else {
                    document.querySelector(".wrong").style.display = "block"

                }


            } else {
                if (church.some(gn => gn.name === input)) {
                    for (let i = 0; i < church.length; i++) {
                        if (church[i].name === input) {
                            ownTable.push(church[i].tableNumber)

                        }
                    }
                    alert("您的桌號為" + ownTable.join("、"))
                    localStorage.setItem("tableNumber", JSON.stringify(ownTable))
                    window.location.href = "table.html";
                }
                else {
                    document.querySelector(".wrong").style.display = "block"
                    

                }

            }


        }
    </script>




</body>

</html>
